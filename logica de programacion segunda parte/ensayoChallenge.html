<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Encriptador</h1>
    <input type="text" placeholder="Digita las palabras a encriptar">
    <button>Encriptar</button>

    <script>
        function check(e) {
            tecla = (document.all) ? e.keyCode : e.which;

            //Tecla de retroceso para borrar, siempre la permite
            if (tecla == 8) {
                return true;
            }

            // Patron de entrada, en este caso solo acepta numeros y letras
            patron = /[A-Za-z0-9]/;
            tecla_final = String.fromCharCode(tecla);
            return patron.test(tecla_final);
        }

        
        let input = document.querySelector("input");
        let encriptado;
        let str;

        input.focus();

        function encriptar() {

            //caracteres que se permiten digitar en el input = que inicie con letras solo minusculas que y \s= tenga espacios ?=que los espacios sean opcionales
            let caracteres = /^[a-z\s?]+$/;
            //remplaza todas las coincidencias de palabras asignada por la bocal asignada
            str = input.value.replaceAll("e", "enter").replaceAll("i", "imes").replaceAll("a", "ai").replaceAll("o", "ober").replaceAll("u", "ufat");

            //condicional solo para que ingrese letras minusculas
            if (caracteres.test(str)) {
                console.log(str);

            } else {
                console.log("frase mal digitada")

            }

            input.value = "";
            input.focus();
        }


        function desencriptar() {

            //caracteres que se permiten digitar en el input = que inicie con letras solo minusculas que y \s= tenga espacios ?=que los espacios sean opcionales
            let caracteres = /^[a-z\s?]+$/;
            input.focus();

            //remplaza todas las coincidencias de palabras asignada por la bocal asignada
            let str = input.value.replaceAll("enter", "e").replaceAll("imes", "i").replaceAll("ai", "a").replaceAll("ober", "o").replaceAll("ufat", "u");

            //se hace un condicional testeando lo que digita el usuario si esta dentro del rango de caracteres permitidos seria true.
            if (caracteres.test(str)) {
                console.log(str);

            } else {
                console.log("Frase mal digitada");

            }


            input.value = "";
            input.focus();

        }

        //i= desencriptar();
        //e =encriptar();
        let button = document.querySelector("button");
        button.onclick = encriptar;
        //button.onclick = desencriptar;
    </script>
</body>

</html>